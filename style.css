body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  line-height: 1.6;
}

header {
  background: #2c3e50;
  color: #fff;
  padding: 10px;
  text-align: center;
}

nav a {
  color: #fff;
  margin: 0 10px;
  text-decoration: none;
}

section {
  padding: 20px;
}

.galeri {
  display: flex;
  gap: 10px;
}

.galeri img {
  width: 200px;
  border-radius: 8px;
}

form {
  display: flex;
  flex-direction: column;
  max-width: 400px;
}

form input, form textarea {
  margin-bottom: 10px;
  padding: 8px;
}

button {
  background: #2c3e50;
  color: #fff;
  padding: 10px;
  border: none;
  cursor: pointer;
}

button:hover {
  background: #34495e;
}

footer {
  text-align: center;
  padding: 10px;
  background: #eee;
}

<!-- Tambahkan CSS Spinner -->
<style>
  .loading-overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.4);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    display: none;
  }

  .spinner {
    border: 6px solid rgba(255, 255, 255, 0.3);
    border-top: 6px solid #3498db;
    border-radius: 50%;
    width: 50px; height: 50px;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
</style>

<!-- Tambahkan overlay loading di body -->
<div class="loading-overlay" id="loadingOverlay">
  <div class="spinner"></div>
</div>

<script>
async function uploadPDF(input, nomor) {
  const file = input.files[0];
  if (!file) return;
  if(file.type !== "application/pdf"){ 
    showToast("❌ File harus PDF!", "error"); 
    return; 
  }

  const reader = new FileReader();
  reader.readAsDataURL(file);

  reader.onload = async function() {
    const base64File = reader.result.split(",")[1];
    try {
      // Tampilkan loading
      document.getElementById("loadingOverlay").style.display = "flex";

      const response = await fetch(apiUrl, {
        method: "POST",
        body: new URLSearchParams({ file: base64File, nomor: nomor })
      });
      const data = await response.json();

      if (data.status === "sukses") {
        showToast("✅ Upload berhasil!", "success");
        setTimeout(() => location.reload(), 1500);
      } else {
        showToast("❌ Gagal upload: " + data.error, "error");
      }
    } catch (err) {
      showToast("⚠️ Error: " + err.message, "error");
    } finally {
      // Sembunyikan loading
      document.getElementById("loadingOverlay").style.display = "none";
    }
  };
}
</script>
